apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
- namespace.yaml
- ../../base
namespace: lab-devops-prod
patches:
- path: patch-service-blue.yaml
- target:
    kind: Ingress
    name: lab-ingress
  patch: |-
    - op: replace
      path: /spec/rules/0/host
      value: prod.lab.local
configMapGenerator:
- name: app-config
  behavior: merge
  literals:
  - APP_ENV=prod
  - APP_VERSION=v1.0.0
images:
- name: docker.io/brenofrancoa/lab-api
  newTag: v1.0.0
